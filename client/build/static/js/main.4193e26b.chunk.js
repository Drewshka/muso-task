(this["webpackJsonpandrew-stevenson-capstone"]=this["webpackJsonpandrew-stevenson-capstone"]||[]).push([[0],{128:function(e,t,a){},129:function(e,t,a){},130:function(e,t,a){},131:function(e,t,a){},132:function(e,t,a){},133:function(e,t,a){},214:function(e,t,a){},217:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),s=a(21),i=a.n(s),c=(a(81),a(82),a(9)),o=a(8),l=(a(83),a.p+"static/media/guitar.8c26472b.svg"),d=a(0);function h(){return Object(d.jsxs)("div",{className:"header",children:[Object(d.jsxs)("h1",{className:"header__title",children:[" ",Object(d.jsxs)(c.c,{to:"/",style:{textDecoration:"none"},activeClassName:"active",children:["Muso-task"," ",Object(d.jsx)("img",{src:l,alt:"guitar",style:{height:"40px",margin:"0 0 5px 8px"}})]})]}),Object(d.jsxs)("ul",{className:"header__link",children:[Object(d.jsx)("li",{className:"header__link-one",children:Object(d.jsx)(c.c,{to:"/gigs",style:{textDecoration:"none"},activeClassName:"active",children:"Gigs"})}),Object(d.jsx)("li",{className:"header__link-two",children:Object(d.jsx)(c.c,{to:"/map",style:{textDecoration:"none"},activeClassName:"active",children:"Events Map"})}),Object(d.jsx)("li",{className:"header__link-three",children:Object(d.jsx)(c.c,{to:"/users",style:{textDecoration:"none"},activeClassName:"active",children:"Find a Musician"})})]})]})}a(92);var u=a(11),j=(a(93),function(e){var t=e.children,a=Object(n.useState)(0),r=Object(u.a)(a,2),s=r[0],i=r[1],c=Object(n.useState)(t.length),o=Object(u.a)(c,2),l=o[0],h=o[1];Object(n.useEffect)((function(){h(t.length)}),[t]);return Object(d.jsx)("div",{className:"carousel-container",children:Object(d.jsxs)("div",{className:"carousel-wrapper",children:[Object(d.jsx)("button",{onClick:function(){s>0&&i((function(e){return e-1}))},className:"left-arrow",children:"<"}),Object(d.jsx)("div",{className:"carousel-content-wrapper",children:Object(d.jsx)("div",{className:"carousel-content",style:{transform:"translateX(-".concat(100*s,"%)")},children:t})}),Object(d.jsx)("button",{onClick:function(){s<l-1&&i((function(e){return e+1}))},className:"right-arrow",children:">"})]})})});function m(){return Object(d.jsxs)("section",{className:"home",children:[Object(d.jsx)("h2",{className:"home__header",children:"Connect with musicians in your area"}),Object(d.jsxs)(j,{children:[Object(d.jsx)("div",{className:"home__caro-one",children:Object(d.jsx)("h3",{className:"home__caro-one-header",children:"Performance opportunities"})}),Object(d.jsx)("div",{className:"home__caro-two",children:Object(d.jsx)("h3",{className:"home__caro-two-header",children:"Recording and studio work"})}),Object(d.jsx)("div",{className:"home__caro-three",children:Object(d.jsx)("h3",{className:"home__caro-three-header",children:"Teaching opportunities"})})]})]})}var b=a(3),p=a(4),g=a(6),_=a(5);a(94),a(95);var O=function(e){var t=e.gigs;return Object(d.jsxs)("section",{className:"gigs",children:[Object(d.jsx)("h3",{className:"gigs__header",children:"Gigs List"}),Object(d.jsxs)("table",{className:"gigs__table",children:[Object(d.jsx)("thead",{children:Object(d.jsxs)("tr",{className:"gigs__table--headers",children:[Object(d.jsx)("th",{className:"gigs__table--headers-gig",children:"GIG"}),Object(d.jsx)("th",{className:"gigs__table--headers-venue",children:"VENUE"}),Object(d.jsx)("th",{className:"gigs__table--headers-date",children:"DATE"}),Object(d.jsx)("th",{className:"gigs__table--headers-time",children:"TIME"}),Object(d.jsx)("th",{className:"gigs__table--headers-category",children:"CATEGORY"})]})}),Object(d.jsx)("tbody",{className:"gigs__table-body",children:t.map((function(e,t){return Object(d.jsxs)("tr",{className:"gigs__table-body-container",children:[Object(d.jsx)("td",{className:"gigs__table-body-container-name",children:Object(d.jsx)(c.b,{to:"/gigs/".concat(e.id),children:e.gigName})}),Object(d.jsx)("td",{className:"gigs__table-body-container-venue",children:e.venue}),Object(d.jsx)("td",{className:"gigs__table-body-container-date",children:e.date}),Object(d.jsx)("td",{className:"gigs__table-body-container-time",children:e.time}),Object(d.jsx)("td",{className:"gigs__table-body-container-category",children:e.category})]},t)}))})]})]})},x=(a(96),a(26)),f=a.n(x),v=a(7),y=a.n(v),N="http://localhost:8080",E={content:{top:"50%",left:"50%",right:"auto",bottom:"auto",marginRight:"-50%",transform:"translate(-50%, -50%)"}};var C=Object(o.g)((function(e){var t,a=e.gig,n=e.history,s=r.a.useState(!1),i=Object(u.a)(s,2),c=i[0],o=i[1];function l(){o(!0)}function h(){t.style.color="#f00"}function j(){o(!1)}f.a.setAppElement(document.getElementById("root"));var m=function(e){e.preventDefault();var t=a[0].id;y.a.delete("".concat(N,"/gigs/").concat(t)).then((function(e){return console.log(e.data),y.a.get("".concat(N,"/gigs"))})).then((function(e){var t=e.data;console.log("Single Gig: ",t),n.push("/gigs")})).catch((function(e){console.error("There was an error!",e)})),alert("Deleted successfully"),window.location.reload(!1)};return Object(d.jsx)("div",{className:"heroGig",children:Object(d.jsxs)("section",{className:"heroGig__curr-gig",children:[Object(d.jsx)("h3",{className:"heroGig__curr-gig-title",children:"Current Gig"}),a.map((function(e,a){return Object(d.jsxs)("article",{className:"heroGig__curr-gig__card",children:[Object(d.jsx)("h2",{className:"heroGig__curr-gig__card-name",children:e.gigName}),Object(d.jsxs)("p",{className:"heroGig__curr-gig__card-address",children:[" ",Object(d.jsx)("span",{id:"heroGig__span",children:"Address: "}),e.address]}),Object(d.jsxs)("p",{className:"heroGig__curr-gig__card-date",children:[Object(d.jsx)("span",{id:"heroGig__span",children:"Date: "}),e.date]}),Object(d.jsxs)("p",{className:"heroGig__curr-gig__card-time",children:[Object(d.jsx)("span",{id:"heroGig__span",children:"Time: "}),e.time]}),Object(d.jsxs)("p",{className:"heroGig__curr-gig__card-category",children:[Object(d.jsx)("span",{id:"heroGig__span",children:"Category: "}),e.category]}),Object(d.jsxs)("p",{className:"heroGig__curr-gig__card-venue",children:[Object(d.jsx)("span",{id:"heroGig__span",children:"Venue: "}),e.venue]}),Object(d.jsxs)("p",{className:"heroGig__curr-gig__card-description",children:[Object(d.jsx)("span",{id:"heroGig__span",children:"Description: "}),e.description]}),Object(d.jsxs)("p",{className:"heroGig__curr-gig__card-email",children:[Object(d.jsx)("span",{id:"heroGig__span",children:"Get in touch: "}),e.email]}),Object(d.jsx)("button",{onClick:l,children:"Delete Gig"}),Object(d.jsxs)(f.a,{isOpen:c,onAfterOpen:h,onRequestClose:j,style:E,contentLabel:"Example Modal",children:[Object(d.jsx)("h2",{ref:function(e){return t=e},children:"Delete Gig"}),Object(d.jsx)("button",{onClick:j,children:"close"}),Object(d.jsx)("div",{children:"Are you sure you'd like to delete this gig?"}),Object(d.jsx)("form",{children:Object(d.jsx)("button",{onClick:m,children:"Delete Gig"})})]})]},a)}))]})})})),U=(a(34),a(18)),w=a(37),T=a.n(w),S=(a(128),"http://localhost:8080"),k={name:"",description:"",category:"",venue:"",address:"",date:"",time:"",nameError:"",descriptionError:"",categoryError:"",venueError:"",addressError:"",dateError:"",timeError:""},M=function(e){Object(g.a)(a,e);var t=Object(_.a)(a);function a(){var e;Object(b.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state=k,e.handleChange=function(t){var a="checkbox"===t.target.type;e.setState(Object(U.a)({},t.target.name,a?t.target.checked:t.target.value))},e.validate=function(){return e.state.name||"This field is required",e.state.description||"This field is required",e.state.category||"This field is required",e.state.venue||"This field is required",e.state.address||"This field is required",e.state.date||"This field is required",e.state.time||"This field is required",!0},e.handleSubmit=function(t){t.preventDefault(),e.validate()&&e.setState(k);var a=e.props.gig[0].id;y.a.put("".concat(S,"/gigs/").concat(a),{userName:e.props.gig[0].userName,userID:e.props.gig[0].userID,gigName:t.target.name.value||e.props.gig[0].gigName,description:t.target.description.value||e.props.gig[0].description,category:t.target.category.value||e.props.gig[0].category,venue:t.target.venue.value||e.props.gig[0].venue,address:t.target.address.value||e.props.gig[0].address,date:t.target.date.value||e.props.gig[0].date,time:t.target.time.value||e.props.gig[0].time}).then((function(e){console.log("response: ",e.data)})).catch((function(e){console.log(e.message)})),window.location.reload(!1)},e}return Object(p.a)(a,[{key:"render",value:function(){return Object(d.jsxs)("div",{className:"edit",children:[Object(d.jsx)("h1",{children:"What would you like to change?"}),Object(d.jsxs)("form",{className:"edit__container",id:"edit__container",name:"myForm",action:"POST",onSubmit:this.handleSubmit,children:[Object(d.jsxs)("article",{id:"editContainer1",children:[Object(d.jsxs)("div",{className:"edit__container-name",children:[Object(d.jsx)("h4",{className:"edit__container-name-title",children:"Name"}),Object(d.jsx)("input",{className:"edit__container-name-input",type:"text",id:"name",name:"name",placeholder:"Please name your gig",value:this.state.name,onChange:this.handleChange}),Object(d.jsx)("div",{className:"edit__container-name-error",id:"nameError",name:"nameError",children:this.state.nameError})]}),Object(d.jsxs)("div",{className:"edit__container-description",children:[Object(d.jsx)("h4",{className:"edit__container-description-title",children:"Gig Description"}),Object(d.jsx)("textarea",{className:"edit__container-description-input",type:"text",id:"description",name:"description",placeholder:"Please describe the gig",value:this.state.description,onChange:this.handleChange}),Object(d.jsx)("div",{className:"edit__container-description-error",id:"descriptionError",name:"descriptionError",children:this.state.descriptionError})]}),Object(d.jsxs)("div",{className:"edit__container-category",children:[Object(d.jsx)("h4",{className:"edit__container-category-title",children:"Category"}),Object(d.jsxs)("div",{className:"edit__container-category-list",children:[Object(d.jsxs)("div",{className:"edit__container-category-list-container",children:[Object(d.jsx)("input",{type:"radio",id:"Performance",name:"category",value:"Performance",onChange:this.handleChange}),Object(d.jsx)("label",{htmlFor:"Performance",id:"Performance",children:"Performance"})]}),Object(d.jsxs)("div",{className:"edit__container-category-list-container2",children:[Object(d.jsx)("input",{type:"radio",id:"Recording",name:"category",value:"Recording",onChange:this.handleChange}),Object(d.jsx)("label",{htmlFor:"Recording",id:"Recording",children:"Recording"})]}),Object(d.jsxs)("div",{className:"edit__container-category-list-container3",children:[Object(d.jsx)("input",{type:"radio",id:"Education",name:"category",value:"Education",onChange:this.handleChange}),Object(d.jsx)("label",{htmlFor:"Education",id:"Education",children:"Education"})]}),Object(d.jsx)("div",{className:"edit__container-category-error",id:"categoryError",name:"categoryError",children:this.state.categoryError})]})]})]}),Object(d.jsxs)("article",{id:"editContainer2",children:[Object(d.jsxs)("div",{className:"edit__container-venue",children:[Object(d.jsx)("h4",{className:"edit_container-venue-title",id:"venue-title",children:"Venue"}),Object(d.jsx)("input",{className:"edit__container-venue-input",type:"text",id:"venue",name:"venue",placeholder:"Please add a venue",value:this.state.venue,onChange:this.handleChange}),Object(d.jsx)("div",{className:"edit__container-venue-error",id:"venueError",name:"venueError",children:this.state.venueError})]}),Object(d.jsxs)("div",{className:"edit__container-address",children:[Object(d.jsx)("h4",{className:"edit__container-address-title",children:"Address"}),Object(d.jsx)(T.a,{apiKey:"AIzaSyAFFlPainlupwi0o73o7I_P0A8QRWjpSdo",onPlaceSelected:function(e){console.log(e)},options:{componentRestrictions:{country:"can"},fields:["address_components","geometry"],types:["address"]},className:"edit__container-address-input",type:"text",id:"address",name:"address",placeholder:"Please add the address",value:this.state.address,onChange:this.handleChange}),Object(d.jsx)("div",{className:"edit__container-address-error",id:"addressError",name:"addressError",children:this.state.addressError})]}),Object(d.jsxs)("div",{className:"edit__container-date",children:[Object(d.jsx)("h4",{className:"form__container-date-title",children:"Date"}),Object(d.jsx)("label",{id:"date"}),Object(d.jsx)("input",{type:"date",name:"date",className:"edit__container-date-input",id:"date",placeholder:"Please add the address",value:this.state.date,onChange:this.handleChange}),Object(d.jsx)("div",{className:"edit__container-date-error",id:"dateError",name:"dateError",children:this.state.dateError})]}),Object(d.jsxs)("div",{className:"edit__container-time",children:[Object(d.jsx)("h4",{className:"edit__container-time-title",children:"Time"}),Object(d.jsx)("label",{id:"time"}),Object(d.jsx)("input",{type:"time",name:"time",className:"form__container-time-input",id:"time",placeholder:"Please add the address",value:this.state.time,onChange:this.handleChange}),Object(d.jsx)("div",{className:"edit__container-time-error",id:"timeError",name:"timeError",children:this.state.timeError})]}),Object(d.jsxs)("div",{className:"edit__container-button",children:[Object(d.jsx)("button",{className:"edit__container-button-submit",type:"submit",id:"submit",value:"submit",children:"Submit"}),Object(d.jsx)("button",{onClick:this.props.hideEditModalHandler,className:"edit__container-button-cancel",type:"cancel",id:"cancel",value:"cancel",children:"Cancel"})]})]})]})]})}}]),a}(n.Component),P=Object(o.g)(M),A=function(e){Object(g.a)(a,e);var t=Object(_.a)(a);function a(){return Object(b.a)(this,a),t.apply(this,arguments)}return Object(p.a)(a,[{key:"render",value:function(){var e=Object(d.jsx)(P,{gig:this.props.gig,hideEditModalHandler:this.props.hideEditModalHandler}),t=this.props.showModal?Object(d.jsx)("div",{children:e}):null;return Object(d.jsx)("div",{children:t})}}]),a}(n.Component),G="".concat("http://localhost:8080","/gigs"),D=function(e){Object(g.a)(a,e);var t=Object(_.a)(a);function a(){var e;Object(b.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={gigs:[],selectedGig:null,showModal:!1},e.showEditModalHandler=function(t){e.setState({showModal:!0})},e.hideEditModalHandler=function(t){e.setState({showModal:!1})},e.fetchGigDetails=function(){var t=e.props.match.params.id?e.props.match.params.id:e.state.gigs[0].id;y.a.get("".concat(G,"/").concat(t)).then((function(t){var a=t.data;console.log("Single Gig: ",a),e.setState({selectedGig:a}),window.scrollTo(0,0)})).catch((function(e){console.log(e)}))},e}return Object(p.a)(a,[{key:"componentDidMount",value:function(){var e=this;y.a.get(G).then((function(t){var a=t.data;console.log("Gigs: ",a),e.setState({gigs:a},e.fetchGigDetails)})).catch((function(e){console.log(e)}))}},{key:"componentDidUpdate",value:function(e,t){e.match.params.id!==this.props.match.params.id&&this.fetchGigDetails()}},{key:"render",value:function(){var e=this,t=this.state.selectedGig?this.state.gigs.filter((function(t){return t.id!==e.state.selectedGig.id})):this.state.gigs;return null===this.state.selectedGig?Object(d.jsx)("p",{children:"Loading..."}):Object(d.jsxs)("section",{className:"gigs",children:[Object(d.jsx)("h1",{className:"gigs__title",children:"Gigs Page"}),Object(d.jsx)("button",{className:"gigs__button",type:"button",onClick:this.showEditModalHandler,children:"Edit Gig"}),Object(d.jsx)(A,{showModal:this.state.showModal,hideEditModalHandler:this.hideEditModalHandler,gig:this.state.selectedGig}),Object(d.jsx)(C,{gig:this.state.selectedGig}),Object(d.jsx)(O,{gigs:t})]})}}]),a}(n.Component),q=(a(129),a(130),"http://localhost:8080"),H={content:{top:"50%",left:"50%",right:"auto",bottom:"auto",marginRight:"-50%",transform:"translate(-50%, -50%)"}};var F=Object(o.g)((function(e){var t,a=e.user,n=e.history,s=r.a.useState(!1),i=Object(u.a)(s,2),c=i[0],o=i[1];function l(){o(!0)}function h(){t.style.color="#f00"}function j(){o(!1)}f.a.setAppElement(document.getElementById("root"));var m=function(e){e.preventDefault();var t=a[0].id;y.a.delete("".concat(q,"/users/").concat(t)).then((function(e){return console.log(e.data),y.a.get("".concat(q,"/users"))})).then((function(e){var t=e.data;console.log("Single Gig: ",t),n.push("/users")})).catch((function(e){console.error("There was an error!",e)})),alert("Deleted successfully"),window.location.reload(!1)};return Object(d.jsxs)("section",{className:"hero",children:[Object(d.jsx)("h3",{className:"hero__curr-user",children:"Current User"}),a.map((function(e,a){return Object(d.jsxs)("article",{className:"hero__curr-user__card",children:[Object(d.jsxs)("h3",{className:"hero__curr-user__card-name",children:[Object(d.jsx)("span",{id:"hero__span"}),e.name]}),Object(d.jsxs)("p",{className:"hero__curr-user__card-address",children:[Object(d.jsx)("span",{id:"hero__span",children:"Address: "}),e.address]}),Object(d.jsxs)("p",{className:"hero__curr-user__card-city",children:[Object(d.jsx)("span",{id:"hero__span",children:"City: "}),e.city]}),Object(d.jsxs)("p",{className:"hero__curr-user__card-country",children:[Object(d.jsx)("span",{id:"hero__span",children:"Country: "}),e.country]}),Object(d.jsxs)("p",{className:"hero__curr-user__card-instrument",children:[Object(d.jsx)("span",{id:"hero__span",children:"Instruments: "}),e.instrument]}),Object(d.jsxs)("p",{className:"hero__curr-user__card-email",children:[Object(d.jsx)("span",{id:"hero__span",children:"Email: "}),e.email]}),Object(d.jsxs)("p",{className:"hero__curr-user__card-phone",children:[Object(d.jsx)("span",{id:"hero__span",children:"Phone: "}),e.phone]}),Object(d.jsxs)("p",{className:"hero__curr-user__card-bio",children:[Object(d.jsx)("span",{id:"hero__span",children:"About: "}),e.bio]}),Object(d.jsx)("button",{onClick:l,children:"Delete User"}),Object(d.jsxs)(f.a,{isOpen:c,onAfterOpen:h,onRequestClose:j,style:H,contentLabel:"Example Modal",children:[Object(d.jsx)("h2",{ref:function(e){return t=e},children:"Delete User"}),Object(d.jsx)("button",{onClick:j,children:"close"}),Object(d.jsx)("div",{children:"Are you sure you'd like to delete this user and relevent gigs?"}),Object(d.jsx)("form",{children:Object(d.jsx)("button",{onClick:m,children:"Delete User"})})]})]},a)}))]})}));a(131);var R=function(e){var t=e.users;return Object(d.jsxs)("section",{className:"list",children:[Object(d.jsx)("h3",{className:"list__header",children:"Users List"}),Object(d.jsx)("div",{className:"list__container",children:t.map((function(e){return Object(d.jsx)(c.b,{to:"/users/".concat(e.id),style:{textDecoration:"none"},children:Object(d.jsxs)("article",{className:"list__card",children:[Object(d.jsx)("h3",{className:"list__card-name",children:e.name}),Object(d.jsxs)("p",{className:"list__card-city",children:[Object(d.jsx)("span",{id:"list__span",children:"City: "}),e.city]}),Object(d.jsxs)("p",{className:"list__card-country",children:[Object(d.jsx)("span",{id:"list__span",children:"Country: "}),e.country]}),Object(d.jsxs)("p",{className:"list__card-instrument",children:[Object(d.jsx)("span",{id:"list__span",children:"Instrument: "}),e.instrument]})]})},e.id)}))})]})},I=(a(132),"http://localhost:8080"),W={name:"",description:"",venue:"",address:"",date:"",time:"",category:"",nameError:"",descriptionError:"",venueError:"",addressError:"",dateError:"",timeError:"",categoryError:""},L=function(e){Object(g.a)(a,e);var t=Object(_.a)(a);function a(){var e;Object(b.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state=W,e.handleChange=function(t){var a="checkbox"===t.target.type;e.setState(Object(U.a)({},t.target.name,a?t.target.checked:t.target.value))},e.validate=function(){var t="",a="",n="",r="",s="",i="",c="";return e.state.name||(t="This field is required"),e.state.description||(a="This field is required"),e.state.venue||(n="This field is required"),e.state.address||(r="This field is required"),e.state.date||(s="This field is required"),e.state.time||(i="This field is required"),e.state.category||(c="This field is required"),!(t||a||n||r||s||i||c)||(e.setState({nameError:t,descriptionError:a,venueError:n,addressError:r,dateError:s,timeError:i,categoryError:c}),!1)},e.handleSubmit=function(t){t.preventDefault(),e.validate()&&e.setState(W),y.a.post("".concat(I,"/gigs"),{userID:e.props.user[0].id,gigName:t.target.name.value,description:t.target.description.value,category:t.target.category.value,venue:t.target.venue.value,address:t.target.address.value,date:t.target.date.value,time:t.target.time.value}).then((function(e){console.log("response: ",e.data),window.location.reload(!1)})).catch((function(e){console.log(e.message)})),e.props.history.push("/gigs")},e}return Object(p.a)(a,[{key:"render",value:function(){return Object(d.jsxs)("div",{className:"form",children:[Object(d.jsx)("h2",{className:"form__header",children:"Post a Gig!"}),Object(d.jsxs)("form",{className:"form__container",id:"form__container",name:"myForm",action:"POST",onSubmit:this.handleSubmit,autoComplete:"off",children:[Object(d.jsxs)("article",{id:"container1",children:[Object(d.jsxs)("div",{className:"form__container-name",children:[Object(d.jsx)("h4",{className:"form__container-name-title",children:"Gig Name"}),Object(d.jsx)("input",{className:"form__container-name-input",type:"text",id:"name",name:"name",placeholder:"Please name your gig",value:this.state.name,onChange:this.handleChange}),Object(d.jsx)("div",{className:"form__container-name-error",id:"nameError",name:"nameError",children:this.state.nameError})]}),Object(d.jsxs)("div",{className:"form__container-description",children:[Object(d.jsx)("h4",{className:"form__container-description-title",children:"Gig Description"}),Object(d.jsx)("textarea",{className:"form__container-description-input",type:"text",id:"description",name:"description",placeholder:"Please describe the gig",value:this.state.description,onChange:this.handleChange}),Object(d.jsx)("div",{className:"form__container-description-error",id:"descriptionError",name:"descriptionError",children:this.state.descriptionError})]}),Object(d.jsxs)("div",{className:"form__container-category",children:[Object(d.jsx)("h4",{className:"form__container-category-title",children:"Category"}),Object(d.jsxs)("div",{className:"form__container-category-list",children:[Object(d.jsxs)("div",{className:"form__container-category-list-container",children:[Object(d.jsx)("input",{type:"radio",id:"Performance",name:"category",value:"Performance",onChange:this.handleChange}),Object(d.jsx)("label",{htmlFor:"Performance",id:"Performance",children:"Performance"})]}),Object(d.jsxs)("div",{className:"form__container-category-list-container2",children:[Object(d.jsx)("input",{type:"radio",id:"Recording",name:"category",value:"Recording",onChange:this.handleChange}),Object(d.jsx)("label",{htmlFor:"Recording",id:"Recording",children:"Recording"})]}),Object(d.jsxs)("div",{className:"form__container-category-list-container3",children:[Object(d.jsx)("input",{type:"radio",id:"Education",name:"category",value:"Education",onChange:this.handleChange}),Object(d.jsx)("label",{htmlFor:"Education",id:"Education",children:"Education"})]})]}),Object(d.jsx)("div",{className:"form__container-category-error",id:"categoryError",name:"categoryError",children:this.state.categoryError})]})]}),Object(d.jsxs)("article",{id:"container2",children:[Object(d.jsxs)("div",{className:"form__container-venue",children:[Object(d.jsx)("h4",{className:"form__container-venue-title",children:"Venue"}),Object(d.jsx)("input",{className:"form__container-venue-input",type:"text",id:"venue",name:"venue",placeholder:"Please add a venue",value:this.state.venue,onChange:this.handleChange}),Object(d.jsx)("div",{className:"form__container-venue-error",id:"venueError",name:"venueError",children:this.state.venueError})]}),Object(d.jsxs)("div",{className:"form__container-address",children:[Object(d.jsx)("h4",{className:"form__container-address-title",children:"Address"}),Object(d.jsx)(T.a,{apiKey:"AIzaSyAFFlPainlupwi0o73o7I_P0A8QRWjpSdo",onPlaceSelected:function(e){console.log(e)},options:{componentRestrictions:{country:"can"},fields:["address_components","geometry"],types:["address"]},className:"form__container-address-input",type:"text",id:"address",name:"address",placeholder:"Please add the address",value:this.state.address,onChange:this.handleChange}),Object(d.jsx)("div",{className:"form__container-address-error",id:"addressError",name:"addressError",children:this.state.addressError})]}),Object(d.jsxs)("div",{className:"form__container-date",children:[Object(d.jsx)("h4",{className:"form__container-date-title",children:"Date"}),Object(d.jsx)("label",{id:"date"}),Object(d.jsx)("input",{type:"date",name:"date",className:"form__container-date-input",id:"date",placeholder:"Please add the address",value:this.state.date,onChange:this.handleChange}),Object(d.jsx)("div",{className:"form__container-date-error",id:"dateError",name:"dateError",children:this.state.dateError})]}),Object(d.jsxs)("div",{className:"form__container-time",children:[Object(d.jsx)("h4",{className:"form__container-time-title",children:"Time"}),Object(d.jsx)("label",{id:"time"}),Object(d.jsx)("input",{type:"time",name:"time",className:"form__container-time-input",id:"time",placeholder:"Please add the address",value:this.state.time,onChange:this.handleChange}),Object(d.jsx)("div",{className:"form__container-time-error",id:"timeError",name:"timeError",children:this.state.timeError})]}),Object(d.jsxs)("div",{className:"form__container-button",children:[Object(d.jsx)("button",{className:"form__container-button-submit",type:"submit",id:"submit",value:"submit",children:"Submit"}),Object(d.jsx)("button",{onClick:this.props.hideModalHandler,className:"form__container-button-cancel",type:"cancel",id:"cancel",value:"cancel",children:"Cancel"})]})]})]})]})}}]),a}(n.Component),Y=Object(o.g)(L),z=function(e){Object(g.a)(a,e);var t=Object(_.a)(a);function a(){return Object(b.a)(this,a),t.apply(this,arguments)}return Object(p.a)(a,[{key:"render",value:function(){var e=Object(d.jsx)(Y,{user:this.props.user,hideModalHandler:this.props.hideModalHandler,state:this.state}),t=this.props.showModal?Object(d.jsx)("div",{children:e}):null;return Object(d.jsx)("div",{children:t})}}]),a}(n.Component),V=(a(133),a(47)),B=a.n(V),K="http://localhost:8080",Q={name:"",address:"",city:"",country:"",phone:"",email:"",instrument:"",bio:"",nameError:"",addressError:"",cityError:"",countryError:"",phoneError:"",emailError:"",instrumentError:"",bioError:""},J=function(e){Object(g.a)(a,e);var t=Object(_.a)(a);function a(){var e;Object(b.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state=Q,e.handleChange=function(t){var a="checkbox"===t.target.type;e.setState(Object(U.a)({},t.target.name,a?t.target.checked:t.target.value))},e.validate=function(){var t="",a="",n="",r="",s="",i="",c="",o="";return e.state.name||(t="This field is required"),e.state.address||(a="This field is required"),e.state.city||(n="This field is required"),e.state.country||(r="This field is required"),e.state.phone||(s="This field is required"),e.state.email||(i="This field is required"),e.state.instrument||(c="This field is required"),e.state.bio||(o="This field is required"),!(t||a||n||r||s||i||c||o)||(e.setState({nameError:t,addressError:a,cityError:n,countryError:r,phoneError:s,emailError:i,instrumentError:c,bioError:o}),!1)},e.handleSubmit=function(t){t.preventDefault();var a=t.target.phone.value,n=t.target.email.value;e.validate()&&e.setState(Q);var r;if(r=a,!B.a.isMobilePhone(r))return alert("Please enter a valid phone number"),!1;var s;if(s=n,!B.a.isEmail(s))return alert("Please enter a valid email"),!1;y.a.post("".concat(K,"/users"),{name:t.target.name.value,address:t.target.address.value,city:t.target.city.value,country:t.target.country.value,phone:t.target.phone.value||null,email:t.target.email.value||null,instrument:t.target.instrument.value,bio:t.target.bio.value}).then((function(e){return console.log("response: ",e.data),y.a.get("".concat(K,"/users"))})).then((function(t){var a=t.data;console.log("Users: ",a),e.setState({users:a})})).catch((function(e){console.log(e.message)})),window.location.reload(!1)},e}return Object(p.a)(a,[{key:"render",value:function(){return Object(d.jsxs)("div",{className:"signUp",children:[Object(d.jsx)("h1",{className:"signUp__header",children:"User Sign-Up"}),Object(d.jsxs)("form",{className:"signUp__container",id:"signUp__container",name:"myForm",action:"POST",onSubmit:this.handleSubmit,children:[Object(d.jsxs)("article",{id:"signUp-container1",children:[Object(d.jsxs)("div",{className:"signUp__container-name",children:[Object(d.jsx)("h4",{className:"signUp__container-name-title",children:"Enter your name"}),Object(d.jsx)("input",{className:"signUp__container-name-input",type:"text",id:"name",name:"name",placeholder:"Your name",value:this.state.name,onChange:this.handleChange}),Object(d.jsx)("div",{className:"signUp__container-name-error",id:"nameError",name:"nameError",children:this.state.nameError})]}),Object(d.jsxs)("div",{className:"signUp__container-address",children:[Object(d.jsx)("h4",{className:"signUp__container-address-title",children:"What's your address?"}),Object(d.jsx)("input",{className:"signUp__container-address-input",type:"text",id:"address",name:"address",placeholder:"Your address",value:this.state.address,onChange:this.handleChange}),Object(d.jsx)("div",{className:"signUp__container-address-error",id:"addressError",name:"addressError",children:this.state.addressError})]}),Object(d.jsxs)("div",{className:"signUp__container-city",children:[Object(d.jsx)("h4",{className:"signUp__container-city-title",children:"What's your city?"}),Object(d.jsx)("input",{className:"signUp__container-city-input",type:"text",id:"city",name:"city",placeholder:"Your city",value:this.state.city,onChange:this.handleChange}),Object(d.jsx)("div",{className:"signUp__container-city-error",id:"cityError",name:"cityError",children:this.state.cityError})]}),Object(d.jsxs)("div",{className:"signUp__container-country",children:[Object(d.jsx)("h4",{className:"signUp__container-country-title",children:"Enter your country"}),Object(d.jsx)("input",{className:"signUp__container-country-input",type:"text",id:"country",name:"country",placeholder:"Your country",value:this.state.country,onChange:this.handleChange}),Object(d.jsx)("div",{className:"signUp__container-country-error",id:"countryError",name:"countryError",children:this.state.countryError})]})]}),Object(d.jsxs)("article",{id:"signUp-container2",children:[Object(d.jsxs)("div",{className:"signUp__container-phone",children:[Object(d.jsx)("h4",{className:"signUp__container-phone-title",children:"Phone number"}),Object(d.jsx)("input",{className:"signUp__container-phone-input",type:"text",id:"phone",name:"phone",placeholder:"Your phone number",value:this.state.phone,onChange:this.handleChange}),Object(d.jsx)("div",{className:"signUp__container-phone-error",id:"phoneError",name:"phoneError",children:this.state.phoneError})]}),Object(d.jsxs)("div",{className:"signUp__container-email",children:[Object(d.jsx)("h4",{className:"signUp__container-email-title",children:"Email"}),Object(d.jsx)("label",{id:"email"}),Object(d.jsx)("input",{type:"text",name:"email",className:"signUp__container-email-input",id:"email",placeholder:"Your address",value:this.state.email,onChange:this.handleChange}),Object(d.jsx)("div",{className:"signUp__container-email-error",id:"emailError",name:"emailError",children:this.state.emailError})]}),Object(d.jsxs)("div",{className:"signUp__container-instrument",children:[Object(d.jsx)("h4",{className:"signUp__container-instrument-title",children:"Instrument"}),Object(d.jsx)("label",{id:"instrument"}),Object(d.jsx)("input",{type:"instrument",name:"instrument",className:"signUp__container-instrument-input",id:"instrument",placeholder:"Your instrument",value:this.state.instrument,onChange:this.handleChange}),Object(d.jsx)("div",{className:"signUp__container-instrument-error",id:"instrumentError",name:"instrumentError",children:this.state.instrumentError})]}),Object(d.jsxs)("div",{className:"signUp__container-bio",children:[Object(d.jsx)("h4",{className:"signUp__container-bio-title",children:"A brief bio"}),Object(d.jsx)("textarea",{className:"signUp__container-bio-input",type:"text",id:"bio",name:"bio",placeholder:"Please enter a bio",value:this.state.bio,onChange:this.handleChange}),Object(d.jsx)("div",{className:"signUp__container-bio-error",id:"bioError",name:"bioError",children:this.state.bioError})]}),Object(d.jsxs)("div",{className:"signUp__container-button",children:[Object(d.jsx)("button",{className:"signUp__container-button-submit",type:"submit",id:"submit",value:"submit",children:"Submit"}),Object(d.jsx)("button",{onClick:this.props.hideModalHandler,className:"signUp__container-button-cancel",type:"cancel",id:"cancel",value:"cancel",children:"Cancel"})]})]})]})]})}}]),a}(n.Component),X=Object(o.g)(J),Z=function(e){Object(g.a)(a,e);var t=Object(_.a)(a);function a(){return Object(b.a)(this,a),t.apply(this,arguments)}return Object(p.a)(a,[{key:"render",value:function(){var e=Object(d.jsx)(X,{hideModalHandler:this.props.hideModalHandler,state:this.props.state}),t=this.props.showSignUpModal?Object(d.jsx)("div",{children:e}):null;return Object(d.jsx)("div",{children:t})}}]),a}(n.Component),$=(a(214),"http://localhost:8080"),ee={name:"",address:"",city:"",country:"",phone:"",email:"",instrument:"",bio:"",nameError:"",addressError:"",cityError:"",countryError:"",phoneError:"",emailError:"",instrumentError:"",bioError:""},te=function(e){Object(g.a)(a,e);var t=Object(_.a)(a);function a(){var e;Object(b.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state=ee,e.handleChange=function(t){var a="checkbox"===t.target.type;e.setState(Object(U.a)({},t.target.name,a?t.target.checked:t.target.value))},e.validate=function(){var t="",a="",n="",r="",s="",i="",c="",o="";return e.state.name||(t="This field is required"),e.state.address||(a="This field is required"),e.state.city||(n="This field is required"),e.state.country||(r="This field is required"),e.state.phone||(s="This field is required"),e.state.email||(i="This field is required"),e.state.instrument||(c="This field is required"),e.state.bio||(o="This field is required"),!(t&&a&&n&&r&&s&&i&&c&&o)||(e.setState({nameError:t,addressError:a,cityError:n,countryError:r,phoneError:s,emailError:i,instrumentError:c,bioError:o}),!1)},e.handleSubmit=function(t){t.preventDefault(),e.validate()&&e.setState(ee);var a=e.props.user[0].id;y.a.put("".concat($,"/users/").concat(a),{name:t.target.name.value||e.props.user[0].name,address:t.target.address.value||e.props.user[0].address,city:t.target.city.value||e.props.user[0].city,country:t.target.country.value||e.props.user[0].country,phone:t.target.phone.value||e.props.user[0].phone,email:t.target.email.value||e.props.user[0].email,instrument:t.target.instrument.value||e.props.user[0].instrument,bio:t.target.bio.value||e.props.user[0].bio}).then((function(e){console.log("response: ",e.data)})).catch((function(e){console.log(e.message)})),window.location.reload(!1)},e}return Object(p.a)(a,[{key:"render",value:function(){return Object(d.jsxs)("div",{className:"editUser",children:[Object(d.jsx)("h1",{children:"What would you like to change?"}),Object(d.jsxs)("form",{className:"editUser__container",id:"editUser__container",name:"myForm",action:"POST",onSubmit:this.handleSubmit,children:[Object(d.jsxs)("article",{id:"editUser-container1",children:[Object(d.jsxs)("div",{className:"editUser__container-name",children:[Object(d.jsx)("h4",{className:"editUser__container-name-title",children:"Enter your name"}),Object(d.jsx)("input",{className:"editUser__container-name-input",type:"text",id:"name",name:"name",placeholder:"Name",value:this.state.name,onChange:this.handleChange}),Object(d.jsx)("div",{className:"editUser__container-name-error",id:"nameError",name:"nameError",children:this.state.nameError})]}),Object(d.jsxs)("div",{className:"editUser__container-address",children:[Object(d.jsx)("h4",{className:"editUser__container-address-title",children:"What's your address?"}),Object(d.jsx)("input",{className:"editUser__container-address-input",type:"text",id:"address",name:"address",placeholder:"Address",value:this.state.address,onChange:this.handleChange}),Object(d.jsx)("div",{className:"editUser__container-address-error",id:"addressError",name:"addressError",children:this.state.addressError})]}),Object(d.jsxs)("div",{className:"editUser__container-city",children:[Object(d.jsx)("h4",{className:"editUser__container-city-title",children:"What's your city?"}),Object(d.jsx)("input",{className:"editUser__container-city-input",type:"text",id:"city",name:"city",placeholder:"City",value:this.state.city,onChange:this.handleChange}),Object(d.jsx)("div",{className:"editUser__container-city-error",id:"cityError",name:"cityError",children:this.state.cityError})]}),Object(d.jsxs)("div",{className:"editUser__container-country",children:[Object(d.jsx)("h4",{className:"editUser__container-country-title",children:"Enter your country"}),Object(d.jsx)("input",{className:"editUser__container-country-input",type:"text",id:"country",name:"country",placeholder:"Country",value:this.state.country,onChange:this.handleChange}),Object(d.jsx)("div",{className:"editUser__container-country-error",id:"countryError",name:"countryError",children:this.state.countryError})]})]}),Object(d.jsxs)("article",{id:"editUser-container2",children:[Object(d.jsxs)("div",{className:"editUser__container-phone",children:[Object(d.jsx)("h4",{className:"editUser__container-phone-title",children:"What's your phone number?"}),Object(d.jsx)("input",{className:"editUser__container-phone-input",type:"text",id:"phone",name:"phone",placeholder:"Phone number",value:this.state.phone,onChange:this.handleChange}),Object(d.jsx)("div",{className:"editUser__container-phone-error",id:"phoneError",name:"phoneError",children:this.state.phoneError})]}),Object(d.jsxs)("div",{className:"editUser__container-email",children:[Object(d.jsx)("h4",{className:"editUser__container-email-title",children:"Email"}),Object(d.jsx)("label",{id:"email",children:" "}),Object(d.jsx)("input",{type:"text",name:"email",className:"editUser__container-email-input",id:"email",placeholder:"Address",value:this.state.email,onChange:this.handleChange}),Object(d.jsx)("div",{className:"editUser__container-email-error",id:"emailError",name:"emailError",children:this.state.emailError})]}),Object(d.jsxs)("div",{className:"editUser__container-instrument",children:[Object(d.jsx)("h4",{className:"editUser__container-instrument-title",children:"Instrument"}),Object(d.jsx)("label",{id:"instrument"}),Object(d.jsx)("input",{type:"instrument",name:"instrument",className:"editUser__container-instrument-input",id:"instrument",placeholder:"Instrument",value:this.state.instrument,onChange:this.handleChange}),Object(d.jsx)("div",{className:"editUser__container-instrument-error",id:"instrumentError",name:"instrumentError",children:this.state.instrumentError})]}),Object(d.jsxs)("div",{className:"editUser__container-bio",children:[Object(d.jsx)("h4",{className:"editUser__container-bio-title",children:"Bio"}),Object(d.jsx)("textarea",{className:"editUser__container-bio-input",type:"text",id:"bio",name:"bio",placeholder:"Please enter a bio",value:this.state.bio,onChange:this.handleChange}),Object(d.jsx)("div",{className:"editUser__container-bio-error",id:"bioError",name:"bioError",children:this.state.bioError})]}),Object(d.jsxs)("div",{className:"editUser__container-button",children:[Object(d.jsx)("button",{className:"editUser__container-button-submit",type:"submit",id:"submit",value:"submit",children:"Submit"}),Object(d.jsx)("button",{onClick:this.props.hideModalHandler,className:"editUser__container-button-cancel",type:"cancel",id:"cancel",value:"cancel",children:"Cancel"})]})]})]})]})}}]),a}(n.Component),ae=Object(o.g)(te),ne=function(e){Object(g.a)(a,e);var t=Object(_.a)(a);function a(){return Object(b.a)(this,a),t.apply(this,arguments)}return Object(p.a)(a,[{key:"render",value:function(){var e=Object(d.jsx)(ae,{user:this.props.user,hideModalHandler:this.props.hideModalHandler}),t=this.props.showEditUserModal?Object(d.jsx)("div",{children:e}):null;return Object(d.jsx)("div",{children:t})}}]),a}(n.Component),re="".concat("http://localhost:8080","/users"),se=function(e){Object(g.a)(a,e);var t=Object(_.a)(a);function a(){var e;Object(b.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={users:[],selectedUser:null,showModal:!1,showSignUpModal:!1,showEditUserModal:!1},e.showModalHandler=function(t){e.setState({showModal:!0})},e.hideModalHandler=function(t){e.setState({showModal:!1})},e.showSignUpModalHandler=function(t){e.setState({showSignUpModal:!0})},e.hideSignUpModalHandler=function(t){e.setState({showSignUpModal:!1})},e.showEditUserModalHandler=function(t){e.setState({showEditUserModal:!0})},e.hideEditUserModalHandler=function(t){e.setState({showEditUserModal:!1})},e.fetchUserDetails=function(){var t=e.props.match.params.id?e.props.match.params.id:e.state.users[0].id;y.a.get("".concat(re,"/").concat(t)).then((function(t){var a=t.data;console.log("Single User: ",a),e.setState({selectedUser:a}),window.scrollTo(0,0)})).catch((function(e){console.log(e)}))},e}return Object(p.a)(a,[{key:"componentDidMount",value:function(){var e=this;y.a.get(re).then((function(t){var a=t.data;console.log("Users: ",a),e.setState({users:a},e.fetchUserDetails)})).catch((function(e){console.log(e)}))}},{key:"componentDidUpdate",value:function(e){e.match.params.id!==this.props.match.params.id&&this.fetchUserDetails()}},{key:"render",value:function(){var e=this,t=this.state.selectedUser?this.state.users.filter((function(t){return t.id!==e.state.selectedUser.id})):this.state.users;return null===this.state.selectedUser?Object(d.jsx)("p",{children:"Loading..."}):Object(d.jsxs)("section",{className:"users",children:[Object(d.jsx)("h2",{className:"users__title",children:"Musicians"}),Object(d.jsxs)("div",{className:"users__button",children:[Object(d.jsx)("button",{className:"users__button-post",type:"button",onClick:this.showModalHandler,children:"Post a Gig"}),Object(d.jsx)("button",{className:"users__button-signUp",type:"button",onClick:this.showSignUpModalHandler,children:"Sign-up"}),Object(d.jsx)("button",{className:"users__button-edit",type:"button",onClick:this.showEditUserModalHandler,children:"Edit User"})]}),Object(d.jsx)(z,{showModal:this.state.showModal,hideModalHandler:this.hideModalHandler,user:this.state.selectedUser}),Object(d.jsx)(Z,{showSignUpModal:this.state.showSignUpModal,hideModalHandler:this.hideSignUpModalHandler,state:this.state}),Object(d.jsx)(ne,{showEditUserModal:this.state.showEditUserModal,hideModalHandler:this.hideEditUserModalHandler,user:this.state.selectedUser}),Object(d.jsx)(F,{user:this.state.selectedUser,users:this.state.users}),Object(d.jsx)(R,{users:t})]})}}]),a}(n.Component),ie=a(19),ce=a.n(ie),oe=a(22),le=a(38),de=a(31),he=a(27),ue=a(28),je=(a(216),["places"]),me={height:"100vh",width:"100vw"},be={styles:[{featureType:"all",elementType:"geometry.fill",stylers:[{weight:"2.00"}]},{featureType:"all",elementType:"geometry.stroke",stylers:[{color:"#9c9c9c"}]},{featureType:"all",elementType:"labels.text",stylers:[{visibility:"on"}]},{featureType:"landscape",elementType:"all",stylers:[{color:"#f2f2f2"}]},{featureType:"landscape",elementType:"geometry.fill",stylers:[{color:"#ffffff"}]},{featureType:"landscape.man_made",elementType:"geometry.fill",stylers:[{color:"#ffffff"}]},{featureType:"poi",elementType:"all",stylers:[{visibility:"off"}]},{featureType:"road",elementType:"all",stylers:[{saturation:-100},{lightness:45}]},{featureType:"road",elementType:"geometry.fill",stylers:[{color:"#eeeeee"}]},{featureType:"road",elementType:"labels.text.fill",stylers:[{color:"#7b7b7b"}]},{featureType:"road",elementType:"labels.text.stroke",stylers:[{color:"#ffffff"}]},{featureType:"road.highway",elementType:"all",stylers:[{visibility:"simplified"}]},{featureType:"road.arterial",elementType:"labels.icon",stylers:[{visibility:"off"}]},{featureType:"transit",elementType:"all",stylers:[{visibility:"off"}]},{featureType:"water",elementType:"all",stylers:[{color:"#46bcec"},{visibility:"on"}]},{featureType:"water",elementType:"geometry.fill",stylers:[{color:"#c8d7d4"}]},{featureType:"water",elementType:"labels.text.fill",stylers:[{color:"#070707"}]},{featureType:"water",elementType:"labels.text.stroke",stylers:[{color:"#ffffff"}]}],disableDefaultUI:!0,zoomControl:!0},pe={lat:43.6532,lng:-79.3832},ge="".concat("http://localhost:8080","/gigs");function _e(e){var t=Object(n.useState)({}),a=Object(u.a)(t,2),s=(a[0],a[1]);Object(n.useEffect)((function(){y.a.get(ge).then(function(){var e=Object(le.a)(ce.a.mark((function e(t){return ce.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.data.map(function(){var e=Object(le.a)(ce.a.mark((function e(t){var a,n,r,s,i;return ce.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a=t.address,e.next=4,Object(he.b)({address:a});case 4:return n=e.sent,e.next=7,Object(he.c)(n[0]);case 7:r=e.sent,s=r.lat,i=r.lng,m((function(e){return[].concat(Object(oe.a)(e),[{lat:s,lng:i,time:new Date,name:t.gigName,creator:t.name,venue:t.venue,date:t.date}])})),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(0),console.log("Error",e.t0);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(t){return e.apply(this,arguments)}}()),s(t.data);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){console.log(e)}))}),[]);var i=Object(de.d)({googleMapsApiKey:"AIzaSyAFFlPainlupwi0o73o7I_P0A8QRWjpSdo",libraries:je}),c=i.isLoaded,o=i.loadError,l=r.a.useState([]),h=Object(u.a)(l,2),j=h[0],m=h[1],b=r.a.useState(null),p=Object(u.a)(b,2),g=p[0],_=p[1],O=r.a.useCallback((function(e){m((function(t){return[].concat(Object(oe.a)(t),[{lat:e.latLng.lat(),lng:e.latLng.lng(),time:new Date}])}))}),[]),x=r.a.useRef(),f=r.a.useCallback((function(e){x.current=e}),[]),v=r.a.useCallback((function(e){var t=e.lat,a=e.lng;x.current.panTo({lat:t,lng:a}),x.current.setZoom(14)}),[]);return o?"Error":c?Object(d.jsxs)("div",{children:[Object(d.jsxs)("h1",{children:["Events"," ",Object(d.jsx)("span",{role:"img","aria-label":"tent",children:"\ud83d\ude8a"})]}),Object(d.jsx)(Oe,{panTo:v}),Object(d.jsx)(xe,{panTo:v}),Object(d.jsxs)(de.a,{id:"map",mapContainerStyle:me,zoom:12,center:pe,options:be,onClick:O,onLoad:f,children:[j.map((function(e,t){return Object(d.jsx)(de.c,{position:{lat:e.lat,lng:e.lng},onClick:function(){_(e)},icon:{url:"/guitar.svg",origin:new window.google.maps.Point(0,0),anchor:new window.google.maps.Point(15,15),scaledSize:new window.google.maps.Size(30,30)}},t)})),g?Object(d.jsx)(de.b,{position:{lat:g.lat,lng:g.lng},onCloseClick:function(){_(null)},children:Object(d.jsxs)("div",{className:"marker",children:[Object(d.jsxs)("p",{className:"marker-name",style:{color:"blue",fontWeight:"bold"},children:[Object(d.jsxs)("span",{style:{color:"black",fontWeight:"normal"},children:["Gig:"," "]}),g.name]}),Object(d.jsxs)("p",{className:"marker-creator",style:{color:"blue",fontWeight:"bold"},children:[Object(d.jsxs)("span",{style:{color:"black",fontWeight:"normal"},children:["Posted by:"," "]}),g.creator]}),Object(d.jsxs)("p",{className:"marker-venue",style:{color:"blue",fontWeight:"bold"},children:[Object(d.jsxs)("span",{style:{color:"black",fontWeight:"normal"},children:["Venue:"," "]})," ",g.venue]}),Object(d.jsxs)("p",{className:"marker-date",style:{color:"blue",fontWeight:"bold"},children:[Object(d.jsxs)("span",{style:{color:"black",fontWeight:"normal"},children:["Date:"," "]}),g.date]})]})}):null]})]}):"Loading..."}function Oe(e){var t=e.panTo;return Object(d.jsx)("button",{className:"locate",onClick:function(){navigator.geolocation.getCurrentPosition((function(e){t({lat:e.coords.latitude,lng:e.coords.longitude})}),(function(){return null}))},children:Object(d.jsx)("img",{src:"/compass.svg",alt:"compass",style:{height:"3rem"}})})}function xe(e){var t=e.panTo,a=Object(he.a)({requestOptions:{location:{lat:function(){return 43.6532},lng:function(){return-79.3832}},radius:1e5}}),n=a.ready,r=a.value,s=a.suggestions,i=s.status,c=s.data,o=a.setValue,l=a.clearSuggestions,h=function(){var e=Object(le.a)(ce.a.mark((function e(a){var n,r,s,i;return ce.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o(a,!1),l(),e.prev=2,e.next=5,Object(he.b)({address:a});case 5:return n=e.sent,e.next=8,Object(he.c)(n[0]);case 8:r=e.sent,s=r.lat,i=r.lng,t({lat:s,lng:i}),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(2),console.log("\ud83d\ude31 Error: ",e.t0);case 17:case"end":return e.stop()}}),e,null,[[2,14]])})));return function(t){return e.apply(this,arguments)}}();return Object(d.jsx)("div",{className:"search",children:Object(d.jsxs)(ue.a,{onSelect:h,children:[Object(d.jsx)(ue.b,{value:r,onChange:function(e){o(e.target.value)},disabled:!n,placeholder:"Search your location"}),Object(d.jsx)(ue.e,{children:Object(d.jsx)(ue.c,{children:"OK"===i&&c.map((function(e){var t=e.id,a=e.description;return Object(d.jsx)(ue.d,{value:a},t)}))})})]})})}var fe=a(40),ve=a(76),ye=["component"],Ne=function(e){Object(g.a)(a,e);var t=Object(_.a)(a);function a(){var e;Object(b.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={isAuthenticating:!0,isAuthenticated:!1,user:null},e}return Object(p.a)(a,[{key:"componentDidMount",value:function(){var e=this;y.a.get("".concat("http://localhost:8080","/check-auth"),{withCredentials:!0}).then((function(t){e.setState({isAuthenticating:!1,isAuthenticated:!0,user:t.data})})).catch((function(){e.setState({isAuthenticating:!1,isAuthenticated:!1})}))}},{key:"render",value:function(){var e=this,t=this.props,a=t.component,n=Object(ve.a)(t,ye);return Object(d.jsx)(o.b,Object(fe.a)(Object(fe.a)({},n),{},{render:function(t){return e.state.isAuthenticating?null:e.state.isAuthenticated?Object(d.jsx)(a,Object(fe.a)({user:e.state.user},t)):Object(d.jsx)(o.a,{to:{pathname:"/login",state:{from:t.location}}})}}))}}]),a}(n.Component),Ee=Ne,Ce="http://localhost:8080",Ue=function(e){Object(g.a)(a,e);var t=Object(_.a)(a);function a(){var e;Object(b.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={isAuthenticated:!1,user:null},e.signOut=function(){var e="".concat(window.location.protocol,"//").concat(window.location.host);console.log(e),window.location="".concat(Ce,"/logout?from=").concat(e)},e}return Object(p.a)(a,[{key:"componentDidMount",value:function(){var e=this;y.a.get("".concat(Ce,"/check-auth"),{withCredentials:!0}).then((function(t){console.log(t.data),e.setState({isAuthenticated:!0,user:t.data})})).catch((function(){e.setState({isAuthenticated:!1})}))}},{key:"render",value:function(){return this.state.isAuthenticated&&Object(d.jsxs)("p",{className:"welcomeLogin",style:{fontSize:"small",position:"absolute",top:"2px",color:"#0d6efd"},children:[Object(d.jsx)("img",{height:"25",src:this.state.user.photos[0].value,alt:this.state.user.displayName}),"Welcome, ",this.state.user.displayName,"!"," ",Object(d.jsx)("button",{onClick:this.signOut,children:"Sign out"})]})}}]),a}(n.Component),we="http://localhost:8080",Te=function(e){Object(g.a)(a,e);var t=Object(_.a)(a);function a(){var e;Object(b.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).login=function(){var t=(e.props.location.state||{from:{pathname:"/"}}).from;console.log(t);var a="".concat(window.location.protocol,"//").concat(window.location.host).concat(t.pathname);console.log(a),window.location="".concat(we,"/login/?from=").concat(a)},e}return Object(p.a)(a,[{key:"render",value:function(){return Object(d.jsxs)("div",{children:[Object(d.jsx)("p",{children:"You must log in to view the page."}),Object(d.jsx)("button",{onClick:this.login,children:"Log in"})]})}}]),a}(n.Component);function Se(){return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)("h1",{children:"Public Page"}),Object(d.jsx)("p",{children:"This is the public page."})]})}function ke(e){return console.log("Protected page props: ",e),Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)("h1",{children:"Protected Page"}),Object(d.jsxs)("h2",{children:["Hey, ",e.user.displayName]}),e.user.bio&&Object(d.jsx)("p",{children:e.user.bio}),Object(d.jsxs)("ul",{style:{listStyleType:"none"},children:[e.user._json.company&&Object(d.jsx)("li",{children:e.user._json.company}),e.user._json.blog&&Object(d.jsx)("li",{children:e.user._json.blog}),e.user._json.location&&Object(d.jsx)("li",{children:e.user._json.location}),e.user._json.email&&Object(d.jsx)("li",{children:e.user._json.email})]})]})}var Me=function(){return Object(d.jsx)("div",{className:"App",children:Object(d.jsxs)(c.a,{onUpdate:function(){return window.scrollTo(0,0)},children:[Object(d.jsxs)("ul",{className:"App__ul",children:[Object(d.jsx)("li",{className:"App__ul-item",children:Object(d.jsx)(c.b,{to:"/public",style:{textDecoration:"none"},children:"Public Page"})}),Object(d.jsx)("li",{className:"App__ul-item",children:Object(d.jsx)(c.b,{to:"/protected",style:{textDecoration:"none"},children:"Protected Page"})})]}),Object(d.jsx)(h,{}),Object(d.jsx)(Ue,{}),Object(d.jsxs)(o.d,{children:[Object(d.jsx)(o.b,{path:"/",exact:!0,component:m}),Object(d.jsx)(o.b,{path:"/users",exact:!0,component:se}),Object(d.jsx)(o.b,{path:"/users/:id",component:se}),Object(d.jsx)(o.b,{path:"/gigs",exact:!0,component:D}),Object(d.jsx)(o.b,{path:"/gigs/:id",component:D}),Object(d.jsx)(o.b,{path:"/map",component:_e})]}),Object(d.jsx)(o.b,{path:"/login",component:Te}),Object(d.jsx)(o.b,{path:"/public",component:Se}),Object(d.jsx)(Ee,{path:"/protected",component:ke})]})})},Pe=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,219)).then((function(t){var a=t.getCLS,n=t.getFID,r=t.getFCP,s=t.getLCP,i=t.getTTFB;a(e),n(e),r(e),s(e),i(e)}))};i.a.render(Object(d.jsx)(r.a.StrictMode,{children:Object(d.jsx)(Me,{})}),document.getElementById("root")),Pe()},81:function(e,t,a){},82:function(e,t,a){},83:function(e,t,a){},92:function(e,t,a){},93:function(e,t,a){},94:function(e,t,a){},95:function(e,t,a){},96:function(e,t,a){}},[[217,1,2]]]);
//# sourceMappingURL=main.4193e26b.chunk.js.map